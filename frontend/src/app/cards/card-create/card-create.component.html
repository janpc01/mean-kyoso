<div class="card-container">
  <div class="season-text">2024/25</div>
  <div class="image-area">
    <button 
      class="upload-button" 
      [style.backgroundImage]="card.image ? 'url(' + card.image + ')' : 'url(/assets/images/placeholder.jpg)'"
      (click)="fileInput.click()"
    >
      <span *ngIf="!card.image">Click to upload your image!</span>
    </button>
    <input 
      #fileInput
      type="file"
      accept="image/*"
      (change)="onFileSelected($event)"
      style="display: none;"
    />
  </div>
  <div class="info-area">
    <div class="info-field">
      <input [(ngModel)]="card.name" name="name" placeholder="Name" required />
    </div>
    <div class="info-field">
      <input [(ngModel)]="card.beltRank" name="beltRank" placeholder="Belt Rank" required />
    </div>
    <div class="info-field">
      <input [(ngModel)]="card.achievement" name="achievement" placeholder="Achievement" required />
    </div>
    <div class="info-field">
      <input [(ngModel)]="card.clubName" name="clubName" placeholder="Club Name" required />
    </div>
  </div>
</div>
<button type="submit" class="create-button" (click)="createCard()">Create Card</button>

<!-- Image Cropper Modal -->
<div class="modal" *ngIf="showCropperModal">
  <div class="modal-content">
    <h3>Crop Image</h3>
    <image-cropper
      [imageFile]="imageFile"
      [maintainAspectRatio]="true"
      [aspectRatio]="328/274"
      format="png"
      (imageCropped)="imageCropped($event)"
    ></image-cropper>
    <div class="modal-actions">
      <button (click)="saveCroppedImage()">Save</button>
      <button (click)="cancelCropping()">Cancel</button>
    </div>
  </div>
</div>

